!function(a){a.fn.extend({tweecool:function(b){function c(a){var b=new Date,c=Date.parse(b),d=1e3*a,e=(c-d)/1e3,f=1,g=60,h=3600,i=86400,j=604800,k=2592e3,l=31536e3;return e>f&&g>e?Math.round(e/f)+" seconds ago":e>=g&&h>e?Math.round(e/g)+" minutes ago":e>=h&&i>e?Math.round(e/h)+" hours ago":e>=i&&j>e?Math.round(e/i)+" days ago":e>=j&&k>e?Math.round(e/j)+" weeks ago":e>=k&&l>e?Math.round(e/k)+" months ago":"over a year ago"}var d={username:"tweecool",limit:5,profile_image:!0,show_time:!0,show_media:!1,show_media_size:"thumb",show_actions:!1,action_reply_icon:"&crarr;",action_retweet_icon:"&prop;",action_favorite_icon:"&#9733;",profile_img_url:"profile",show_retweeted_text:!1},b=a.extend(d,b);return this.each(function(){var d,e,f,g,h,i=b,j=a(this),k=a("<ul>").appendTo(j),l=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,m=/@+(\w+)/gi,n=/#+(\w+)/gi;a.getJSON("https://www.api.tweecool.com/?screenname="+i.username+"&count="+i.limit,function(b){return b.errors||null==b?(j.html("No tweets available."),!1):void a.each(b.tweets,function(a,j){d=i.profile_image?"tweet"==i.profile_img_url?'<a href="https://twitter.com/'+i.username+"/status/"+j.id_str+'" target="_blank"><img src="'+b.user.profile_image_url+'" alt="'+i.username+'" /></a>':'<a href="https://twitter.com/'+i.username+'" target="_blank"><img src="'+b.user.profile_image_url+'" alt="'+i.username+'" /></a>':"",f=i.show_time?c(j.timestamp):"",e=i.show_media&&j.media_url?'<a href="https://twitter.com/'+i.username+"/status/"+j.id_str+'" target="_blank"><img src="'+j.media_url+":"+i.show_media_size+'" alt="'+i.username+'" class="media" /></a>':"",i.show_actions?(g='<div class="action-box"><ul>',g+='<li class="ab_reply"><a title="Reply" href="https://twitter.com/intent/tweet?in_reply_to='+j.id_str+'">'+i.action_reply_icon+"</a></li>",g+='<li class="ab_retweet"><a title="Retweet" href="https://twitter.com/intent/retweet?tweet_id='+j.id_str+'">'+i.action_retweet_icon+"</a>"+(""!=j.retweet_count_f?"<span>"+j.retweet_count_f+"</span>":"")+"</li>",g+='<li class="ab_favorite"><a title="Favorite" href="https://twitter.com/intent/favorite?tweet_id='+j.id_str+'">'+i.action_favorite_icon+"</a>"+(""!=j.favorite_count_f?"<span>"+j.favorite_count_f+"</span>":"")+"</li>",g+="</ul></div>"):g="",h=i.show_retweeted_text&&j.retweeted_text?j.retweeted_text:j.text,k.append("<li>"+d+'<div class="tweets_txt">'+h.replace(l,'<a href="$1" target="_blank">$1</a>').replace(m,'<a href="https://twitter.com/$1" target="_blank">@$1</a>').replace(n,'<a href="https://twitter.com/search?q=%23$1" target="_blank">#$1</a>')+e+" <span>"+f+"</span>"+g+"</div></li>")})}).fail(function(){j.html("No tweets available")})})}})}(jQuery);